<!DOCTYPE>
<html>
<head>
<meta http-equiv="content-type" content="html/text" charset="UTF-8">
<title>尝试贪吃蛇</title>

<style type="text/css">
	#han{
		margin:20px;  //上边距
		padding:20px;	//内边距
		background-color:#FFFFFF;	
		border:thin inset #AAAAAA;   	
	}
</style>

<script>
	//更新蛇的位置
	function refresh(set){
		ctx.clearRect(0,0,500,500);
		
		switch(set.flag){
			case 37: set.x-=20;break; 
			case 38: set.y-=20;break; 
			case 39: set.x+=20;break; 
			case 40: set.y+=20;break;
			default : break;
		}
		ctx.fillRect(set.x,set.y,50,50);
		
		return set;
	}
	
	
	
	//主程序
	function main(){
		
		var canvas = document.getElementById("han");
		var ctx = canvas.getContext("2d");
		ctx.shadowBlur = 20;
		ctx.shadowColor = "red";
		//set内包含三个值，x，y，flag（方向）
		var set = {x:0,y:50,flag:39};

		ctx.fillRect(set.x,set.y,50,50);
		
		//每秒根据flag的值更新一次块的坐标
		setInterval("set=refresh(set)",1000);
	}
	
</script>
	
	
</head>

<body>
<canvas id = "han" width="500" height="500"> 你的浏览器不支持canvas</canvas>


	
<button onclick="main()" >begin</button>
</body>




</html>